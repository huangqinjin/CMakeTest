{
  "version": 3,
  "cmakeMinimumRequired": {
    "major": 3,
    "minor": 21,
    "patch": 0
  },
  "configurePresets": [
    {
      "name": "default",
      "generator": "Ninja Multi-Config",
      "binaryDir": "${sourceDir}/cmake-build-${presetName}"
    },
    {
      "name": "android-base",
      "inherits": "default",
      "hidden": true,
      "environment": {
        "_ANDROID_API": "24",
        "_ANDROID_ABI": "arm64-v8a",
        "_ANDROID_STL": "c++_shared"
      }
    },
    {
      "name": "android-without-toolchain",
      "displayName": "Android Without Toolchain",
      "description": "Introduced in CMake 3.7 but prefered over NDK toolchain since CMake 3.20",
      "inherits": "android-base",
      "cacheVariables": {
        "CMAKE_ANDROID_NDK": {
          "type": "PATH",
          "value": "$env{ANDROID_NDK_HOME}"
        },
        "CMAKE_SYSTEM_NAME": "Android",
        "CMAKE_SYSTEM_VERSION": "$env{_ANDROID_API}",
        "CMAKE_ANDROID_ARCH_ABI": "$env{_ANDROID_ABI}",
        "CMAKE_ANDROID_STL_TYPE": "$env{_ANDROID_STL}"
      }
    },
    {
      "name": "android-legacy-toolchain",
      "displayName": "Android With Legacy Toolchain",
      "description": "Default before CMake 3.21",
      "inherits": "android-base",
      "cacheVariables": {
        "CMAKE_TOOLCHAIN_FILE": {
          "type": "FILEPATH",
          "value": "$env{ANDROID_NDK_HOME}/build/cmake/android.toolchain.cmake"
        },
        "ANDROID_USE_LEGACY_TOOLCHAIN_FILE": "ON",
        "ANDROID_NATIVE_API_LEVEL": "$env{_ANDROID_API}",
        "ANDROID_ABI": "$env{_ANDROID_ABI}",
        "ANDROID_STL": "$env{_ANDROID_STL}"
      }
    },
    {
      "name": "android-new-toolchain",
      "displayName": "Android With New Toolchain",
      "description": "Default since CMake 3.21",
      "inherits": "android-legacy-toolchain",
      "cacheVariables": {
        "ANDROID_USE_LEGACY_TOOLCHAIN_FILE": "OFF"
      }
    },
    {
      "name": "android",
      "inherits": "android-without-toolchain"
    }
  ]
}
